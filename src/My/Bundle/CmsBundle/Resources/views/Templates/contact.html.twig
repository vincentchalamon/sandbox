{% extends 'MyCmsBundle::base.html.twig' %}

{% block article %}
    {% spaceless %}
        <h1>{{ article.title }}</h1>
        <section class="chapo">
            <span>{{ 'text.publication'|trans({'%date%': article.updatedAt|localizeddate('full', 'none')|capitalize}, 'VinceCms') }}</span>
        </section>
        <div class="contents">{{ article|content('contents') }}</div>
        <form role="contact" method="post" action="{{ path('homepage') }}" {{ form_enctype(form) }}>
            {{ form_label(form.name) }}
            <div class="input-group">
                <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
                {{ form_widget(form.name, {'attr': {'class': 'form-control', 'placeholder': form.name.vars.label, 'data-validation-required-message': 'contact.required.name'|trans({}, 'MyCms')} }) }}
                <span class="input-validation"></span>
            </div>

            {{ form_label(form.email) }}
            <div class="input-group">
                <span class="input-group-addon"><span class="glyphicon glyphicon-envelope"></span></span>
                {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': form.email.vars.label, 'data-validation-required-message': 'contact.required.email'|trans({}, 'MyCms'), 'data-validation-invalid-message': 'contact.invalid.email'|trans({}, 'MyCms')} }) }}
                <span class="input-validation"></span>
            </div>

            {{ form_label(form.message) }}
            <div class="input-group">
                <span class="input-group-addon"><span class="glyphicon glyphicon-pencil"></span></span>
                {{ form_widget(form.message, {'attr': {'class': 'form-control', 'placeholder': form.message.vars.label, 'data-validation-required-message': 'contact.required.message'|trans({}, 'MyCms')} }) }}
                <span class="input-validation"></span>
            </div>
            {{ form_rest(form) }}
            <input type="submit" value="{{ 'contact.send'|trans({}, 'MyCms') }}" class="btn btn-primary" data-style="expand-left" onclick="_gaq.push(['_trackEvent', 'Contact', '{{ 'contact.send'|trans({}, 'MyCms') }}']);" />
        </form>
    {% endspaceless %}
{% endblock %}